<page-header [breadcrumb]="breadcrumb">
  <ng-template #breadcrumb>
    <nz-breadcrumb>
      <nz-breadcrumb-item><a [routerLink]="['/jinzhutijian']">进驻体检列表</a></nz-breadcrumb-item>
      <nz-breadcrumb-item><a>{{title1}}</a></nz-breadcrumb-item>
    </nz-breadcrumb>
  </ng-template>
  <div class="breadcrumb">
    <div class="ml-auto">
      <h2>{{title1}}</h2>
    </div>
  </div>
</page-header>

<form nz-form [formGroup]="validateForm">
  <nz-collapse [nzBordered]="false">
    <nz-collapse-panel [nzHeader]="''" [ngStyle]="{'color':'#f7f7f7'}" [nzActive]="true" [nzDisabled]='true'
                       [nzShowArrow]='false'>
      <div nz-row nzType="flex">
        <div nz-col nzSpan="8">
          <nz-form-item>
            <nz-form-label [nzSm]="9" [nzXs]="24" nzFor="lpId">被调查人代号</nz-form-label>
            <nz-form-control [nzSm]="15" [nzXs]="24">
              <nz-select formControlName="lpId" name="lpId" style="width: 100%;" nzPlaceHolder="请选择被调查人代号"
                         [(ngModel)]="health.lpId"
                         (nzScrollToBottom)="loadMore()" nzAllowClear (ngModelChange)="changeOption($event)">
                <nz-option *ngFor="let o of lienPersonnelsorts.content" [nzValue]="o.id" [nzLabel]="o.daiHao">
                </nz-option>
                <nz-option *ngIf="isLoading" nzDisabled nzCustomContent>
                  <i nz-icon type="loading" class="loading-icon"></i> Loading Data...
                </nz-option>
              </nz-select>
              <nz-form-explain *ngIf="validateForm.get('lpId').dirty && validateForm.get('lpId').errors">
                此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="lzSex">性别</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input  nz-input formControlName="lzSex" id="lzSex" [(ngModel)]="health.lzSex"
                      placeholder="留置人性别" disabled="true">
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="lzAge">年龄</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input nz-input formControlName="lzAge" id="lzAge" placeholder="留置人年龄"
                     [(ngModel)]="health.lzAge" disabled="true">
            </nz-form-control>
          </nz-form-item>
          </div>
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label [nzSm]="3" [nzXs]="24" nzFor="historyMedical">既往病史</nz-form-label>
            <nz-form-control [nzSm]="21" [nzXs]="24">
              <textarea nz-input  formControlName="historyMedical" id="historyMedical"
                         [(ngModel)]="health.historyMedical" style="height: 100px"
                         nzPlaceHolder="请输入既往病史">
              </textarea>
              <nz-form-explain *ngIf="validateForm.get('historyMedical').dirty && validateForm.get('historyMedical').errors">
                此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label [nzSm]="12" [nzXs]="24" nzFor="tiWen">体温</nz-form-label>
            <nz-form-control [nzSm]="12" [nzXs]="24">
              <input nz-input formControlName="tiWen" id="tiWen"  style="width: 100%;" placeholder="请输入体温"
                              [(ngModel)]="health.tiWen">
              <nz-form-explain *ngIf="validateForm.get('tiWen').dirty && validateForm.get('tiWen').errors">
                此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="gaoXueYa">血压</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input nz-input formControlName="gaoXueYa" id="gaoXueYa" style="width: 50%;" placeholder="高压"
                     [(ngModel)]="health.gaoXueYa">
              <input nz-input formControlName="xueYa" id="xueYa" style="width: 50%;" placeholder="低压"
              [(ngModel)]="health.xueYa">
              <nz-form-explain *ngIf="(validateForm.get('gaoXueYa').dirty && validateForm.get('gaoXueYa').errors) || (validateForm.get('xueYa').dirty && validateForm.get('xueYa').errors)">
                此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="xinLv">心率</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input nz-input formControlName="xinLv" id="xinLv" placeholder="请输入心率"
                     [(ngModel)]="health.xinLv">
              <nz-form-explain *ngIf="validateForm.get('xinLv').dirty && validateForm.get('xinLv').errors">此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="xueTang">随机血糖</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input nz-input formControlName="xueTang" id="xueTang" placeholder="请输入随机血糖"
                     [(ngModel)]="health.xueTang">
              <nz-form-explain *ngIf="validateForm.get('xueTang').dirty && validateForm.get('xueTang').errors">此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label [nzSm]="3" [nzXs]="24" nzFor="checkHealth">体格检查</nz-form-label>
            <nz-form-control [nzSm]="21" [nzXs]="24">
              <textarea nz-input formControlName="checkHealth" id="checkHealth" placeholder="请输入体格检查"
                        [(ngModel)]="health.checkHealth" style="height: 100px">
              </textarea>
              <nz-form-explain *ngIf="validateForm.get('checkHealth').dirty && validateForm.get('checkHealth').errors">
                此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label [nzSm]="3" [nzXs]="24" nzFor="checkHealth">心电图</nz-form-label>
            <nz-form-control [nzSm]="21" [nzXs]="24">
              <textarea nz-input formControlName="xinDianTu" id="xinDianTu" placeholder="请输入心电图"
                        [(ngModel)]="health.xinDianTu" style="height: 100px">
              </textarea>
              <nz-form-explain *ngIf="validateForm.get('xinDianTu').dirty && validateForm.get('xinDianTu').errors">
                此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="24">
          <nz-form-item>
            <nz-form-label [nzSm]="3" [nzXs]="24" nzFor="doctorYiJian">医生意见</nz-form-label>
            <nz-form-control [nzSm]="21" [nzXs]="24">
              <textarea nz-input formControlName="doctorYiJian" id="doctorYiJian" placeholder="请输入医生意见"
                     [(ngModel)]="health.doctorYiJian" style="height: 100px">
              </textarea>
              <nz-form-explain *ngIf="validateForm.get('doctorYiJian').dirty && validateForm.get('doctorYiJian').errors">此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="12">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="doctor">医生</nz-form-label>
            <nz-form-control [nzSm]="18" [nzXs]="24">
              <input nz-input formControlName="doctor" id="doctor" placeholder="请输入医生"
                     [(ngModel)]="health.doctor">
              <nz-form-explain *ngIf="validateForm.get('doctor').dirty && validateForm.get('doctor').errors">此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="fuZeRen">护士</nz-form-label>
            <nz-form-control [nzSm]="18" [nzXs]="24">
              <input nz-input formControlName="hushi" id="hushi" placeholder="请输入护士"
                     [(ngModel)]="health.hushi">
            </nz-form-control>
          </nz-form-item>
<!--          <nz-form-item>-->
<!--            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="fuZeRen">专案组负责人</nz-form-label>-->
<!--            <nz-form-control [nzSm]="18" [nzXs]="24">-->
<!--              <input nz-input formControlName="fuZeRen" id="fuZeRen" placeholder="请输入专案组负责人"-->
<!--                     [(ngModel)]="health.fuZeRen">-->
<!--              <nz-form-explain *ngIf="validateForm.get('fuZeRen').dirty && validateForm.get('fuZeRen').errors">此项为必填！-->
<!--              </nz-form-explain>-->
<!--            </nz-form-control>-->
<!--          </nz-form-item>-->
        </div>
        <div nz-col nzSpan="12">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="tiJianTime">时间</nz-form-label>
            <nz-form-control [nzSm]="18" [nzXs]="24">
              <nz-date-picker formControlName="tiJianTime" id="tiJianTime" [nzFormat]="'yyyy-MM-dd'" style="width: 100%;"
                              [(ngModel)]="health.tiJianTime"></nz-date-picker>
              <nz-form-explain *ngIf="validateForm.get('tiJianTime').dirty && validateForm.get('tiJianTime').errors">
                此项为必填！
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
<!--          <nz-form-item>-->
<!--            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="fuZeRenTel">联系方式</nz-form-label>-->
<!--            <nz-form-control [nzSm]="18" [nzXs]="24">-->
<!--              <input nz-input formControlName="fuZeRenTel" id="fuZeRenTel" placeholder="请输入联系方式"-->
<!--                     [(ngModel)]="health.fuZeRenTel">-->
<!--              <nz-form-explain *ngIf="validateForm.get('fuZeRenTel').dirty && validateForm.get('fuZeRenTel').errors">此项为必填！-->
<!--              </nz-form-explain>-->
<!--            </nz-form-control>-->
<!--          </nz-form-item>-->
        </div>
      </div>
    </nz-collapse-panel>
  </nz-collapse>
  <br>

  <div nz-row nzType="flex" nzJustify="center">
    <nz-form-item nz-row style="margin-bottom:8px;">
      <nz-form-control>
        <button nz-button  [nzSize]="'large'" nzType="primary" (click)="closed()">关闭</button>
        <button nz-button nzType="primary" nzSize="large" (click)="submitForm()" [nzLoading]="isLoading">保存</button>
      </nz-form-control>
    </nz-form-item>
  </div>
</form>
