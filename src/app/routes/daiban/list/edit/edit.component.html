<page-header [breadcrumb]="breadcrumb">
  <ng-template #breadcrumb>
    <nz-breadcrumb>
      <nz-breadcrumb-item><a [routerLink]="['/daiban']">谈话审批</a></nz-breadcrumb-item>
      <nz-breadcrumb-item><a>审批</a></nz-breadcrumb-item>
    </nz-breadcrumb>
  </ng-template>
  <div class="breadcrumb">
  <div class="ml-auto">
    <h2>审批</h2>
  </div>
</div>
</page-header>
<form nz-form [formGroup]="validateForm">
  <nz-collapse [nzBordered]="false">
    <nz-collapse-panel [nzHeader]="''" [ngStyle]="{'color':'#f7f7f7'}" [nzActive]="true" [nzDisabled]='true'
                       [nzShowArrow]='false'>
      <div nz-row nzType="flex">
        <div nz-col nzSpan="12">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="lpId">被调查人代号</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <nz-select formControlName="lpId" id="lpId"
                         [(ngModel)]="tanhuashenqing.lpId" style="width: 100%;" nzPlaceHolder="请选择被调查人代号" [nzDisabled]=true
                         nzAllowClear>
                <nz-option *ngFor="let o of lienPersonnelcontentPage.content" [nzValue]="o.id" [nzLabel]="o.daiHao"></nz-option>

              </nz-select>
              <!--<nz-form-explain *ngIf="validateForm.get('lpId').dirty && validateForm.get('lpId').errors">-->
                <!--此项为必填!-->
              <!--</nz-form-explain>-->
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="bumen">填报部门</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <div *ngFor="let o of dictionarycontentPage.content">
                <p *ngIf="o.id===tanhuashenqing.bumen">{{o.dicName}}</p>
              </div>
              <!--<nz-form-explain *ngIf="validateForm.get('bumen').dirty && validateForm.get('bumen').errors">-->
                <!--此项为必填!-->
              <!--</nz-form-explain>-->
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="tianbaoren">填报人</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input nz-input formControlName="tianbaoren" id="tianbaoren"
                     [(ngModel)]="tanhuashenqing.tianbaoren" disabled
                     nzPlaceHolder="填报部门">
              <!--<nz-form-explain *ngIf="validateForm.get('tianbaoren').dirty && validateForm.get('tianbaoren').errors">-->
                <!--此项为必填!-->
              <!--</nz-form-explain>-->
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="tianBaoTime">填报日期</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <nz-date-picker [nzFormat]="'yyyy-MM-dd'"  formControlName="tianBaoTime" [nzDisabled]=true id="tianBaoTime" placeholder="请输入专案名称"
                              [(ngModel)]="tanhuashenqing.tianBaoTime">
              </nz-date-picker>
              <!--<nz-form-explain *ngIf="validateForm.get('tianBaoTime').dirty && validateForm.get('tianBaoTime').errors">-->
                <!--此项为必填!-->
              <!--</nz-form-explain>-->
            </nz-form-control>
          </nz-form-item>
          <!--<nz-form-item>-->
            <!--<nz-form-label [nzSm]="6" [nzXs]="24" nzFor="doorId">选择房门</nz-form-label>-->
            <!--<nz-form-control [nzSm]="14" [nzXs]="24">-->
              <!--<nz-select formControlName="doorId" id="doorId"-->
                         <!--[(ngModel)]="tanhuashenqing.doorId" style="width: 100%;" nzPlaceHolder="请选择房门" [nzDisabled]=true  nzAllowClear>-->
                <!--<nz-option *ngFor="let door of entranceGuardDoorDtos" [nzLabel]="door.doorName" [nzValue]="door.doorId"></nz-option>-->
              <!--</nz-select>-->
              <!--<nz-form-explain *ngIf="validateForm.get('doorId').dirty && validateForm.get('doorId').errors">-->
                <!--此项为必填!-->
              <!--</nz-form-explain>-->
            <!--</nz-form-control>-->
          <!--</nz-form-item>-->
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="renyuan">选择人员</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <nz-select formControlName="renyuan" id="renyuan" nzMode="multiple" [nzDisabled]=true
                         [(ngModel)]="tanhuashenqing.renyuan" style="width: 100%;" nzPlaceHolder="请选择人员"  nzAllowClear>
                <nz-option *ngFor="let e of entranceGuardStaffDtos" [nzLabel]="e.emplyName+'_'+e.emplyId" [nzValue]="e.emplyId"></nz-option>
              </nz-select>
              <!--<nz-form-explain *ngIf="validateForm.get('renyuan').dirty && validateForm.get('renyuan').errors">-->
                <!--此项为必填!-->
              <!--</nz-form-explain>-->
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="shenpiYijian">审批意见</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <textarea nz-input formControlName="shenpiYijian" id="shenpiYijian"  placeholder="请输入内容"
                        [nzAutosize]="{ minRows: 5, maxRows: 16 }" [(ngModel)]="tanhuashenqing.shenpiYijian"></textarea>
              <!--<nz-form-explain *ngIf="validateForm.get('shenpiYijian').dirty && validateForm.get('shenpiYijian').errors">-->
                <!--此项为必填!-->
              <!--</nz-form-explain>-->
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <br>
      <nz-collapse [nzBordered]="false">
        <nz-collapse-panel [nzHeader]="'办案人员信息'" [nzActive]="true" [nzDisabled]='false' [nzShowArrow]='true'>
          <div nz-row nzType="flex">
            <div nz-col *ngFor="let u of renyuanxinxi" style="margin-left: 20px">
              <nz-card nzHoverable style="width:200px;" [nzCover]="coverTemplate">
                <nz-card-meta nzTitle="姓名：{{u?.employeeName}}" nzDescription="编号：{{u?.employeeId}}"></nz-card-meta>
              </nz-card>
              <ng-template #coverTemplate>
                <img style="height: 198px;width: 198px" alt="example" src="{{photourl}}{{u?.photo}}"/>
              </ng-template>
            </div>
          </div>
        </nz-collapse-panel>
      </nz-collapse>

      <!--<div nz-row nzType="flex" >-->
        <!--<div nz-col  *ngFor="let u of renyuanxinxi" style="margin-left: 20px">-->
          <!--<nz-card nzHoverable style="width:200px;height: 300px;" [nzCover]="coverTemplate">-->
            <!--<nz-card-meta nzTitle="姓名：{{u.title}}" nzDescription="身份证：{{u.controlNo}}"></nz-card-meta>-->
          <!--</nz-card>-->
          <!--<ng-template #coverTemplate>-->
            <!--<img alt="example" src="{{apiurl+u.img}}" />-->
          <!--</ng-template>-->
        <!--</div>-->

      <!--</div>-->
    </nz-collapse-panel>
  </nz-collapse>
  <br>
  <div nz-row nzType="flex" nzJustify="center">
    <nz-form-item nz-row style="margin-bottom:8px;">
      <nz-form-control>
        <button nz-button nzType="primary" nzSize="large" [disabled]="dis" (click)="submitForm()" [nzLoading]="isLoading">同意</button>
        <button nz-button nzType="primary" nzSize="large" [disabled]="dis" (click)="submitFormDeny()" [nzLoading]="isLoading">拒绝</button>
      </nz-form-control>
    </nz-form-item>
  </div>
</form>







